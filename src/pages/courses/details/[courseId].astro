---
import MainLayout from '@/layouts/MainLayout.astro'
import { actions } from 'astro:actions'

if (!Astro.locals.user) {
	return Astro.redirect('/login')
}

const result = await Astro.callAction(actions.user.find, {
	id: Astro.locals.user.id,
})

if (!result || result.error || !result.data) {
	return Astro.redirect('/login')
}

const user = result.data
---

<MainLayout
	title='Detalle de Curso'
	headerTitle='Detalle de Curso'
	bodyClass='px-4'
>
	Course Details
</MainLayout>
