import{P as N,j as f,c as D}from"./index.DBbjwa8k.js";import{n as H}from"./router.B-sij-_X.js";import{u as K,e as Fe,P as He,O as Be,C as Ue}from"./index.CTnt_JEC.js";import{r as a,R as we}from"./index.lFdC2nkX.js";import"./dialog.B920S8MJ.js";import{c as J}from"./createLucideIcon.BAPAnDpJ.js";import{u as ze}from"./use-toast.Bu7IqXVg.js";import{H as Ge}from"./house.CPYMInRb.js";import{S as Te}from"./settings.BD3JD6WR.js";import"./index.BatipnVx.js";import"./index.BLNbD4pj.js";import"./x.BtqMyYhg.js";/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=J("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=J("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=J("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=J("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var Se=1,Ze=.9,Qe=.8,_e=.17,ne=.1,ae=.999,et=.9999,tt=.99,rt=/[\\\/_+.#"@\[\(\{&]/,nt=/[\\\/_+.#"@\[\(\{&]/g,at=/[\s-]/,je=/[\s-]/g;function ie(e,r,t,c,l,o,s){if(o===r.length)return l===e.length?Se:tt;var d=`${l},${o}`;if(s[d]!==void 0)return s[d];for(var h=c.charAt(o),v=t.indexOf(h,l),m=0,g,j,k,C;v>=0;)g=ie(e,r,t,c,v+1,o+1,s),g>m&&(v===l?g*=Se:rt.test(e.charAt(v-1))?(g*=Qe,k=e.slice(l,v-1).match(nt),k&&l>0&&(g*=Math.pow(ae,k.length))):at.test(e.charAt(v-1))?(g*=Ze,C=e.slice(l,v-1).match(je),C&&l>0&&(g*=Math.pow(ae,C.length))):(g*=_e,l>0&&(g*=Math.pow(ae,v-l))),e.charAt(v)!==r.charAt(o)&&(g*=et)),(g<ne&&t.charAt(v-1)===c.charAt(o+1)||c.charAt(o+1)===c.charAt(o)&&t.charAt(v-1)!==c.charAt(o))&&(j=ie(e,r,t,c,v+1,o+2,s),j*ne>g&&(g=j*ne)),g>m&&(m=g),v=t.indexOf(h,v+1);return s[d]=m,m}function ke(e){return e.toLowerCase().replace(je," ")}function lt(e,r,t){return e=t&&t.length>0?`${e+" "+t.join(" ")}`:e,ie(e,r,ke(e),ke(r),0,0,{})}var Ce={exports:{}},Ne={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V=a;function ot(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var it=typeof Object.is=="function"?Object.is:ot,ut=V.useState,st=V.useEffect,ct=V.useLayoutEffect,dt=V.useDebugValue;function mt(e,r){var t=r(),c=ut({inst:{value:t,getSnapshot:r}}),l=c[0].inst,o=c[1];return ct(function(){l.value=t,l.getSnapshot=r,le(l)&&o({inst:l})},[e,t,r]),st(function(){return le(l)&&o({inst:l}),e(function(){le(l)&&o({inst:l})})},[e]),dt(t),t}function le(e){var r=e.getSnapshot;e=e.value;try{var t=r();return!it(e,t)}catch{return!0}}function ft(e,r){return r()}var pt=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ft:mt;Ne.useSyncExternalStore=V.useSyncExternalStore!==void 0?V.useSyncExternalStore:pt;Ce.exports=Ne;var vt=Ce.exports,B='[cmdk-group=""]',oe='[cmdk-group-items=""]',ht='[cmdk-group-heading=""]',ce='[cmdk-item=""]',Ee=`${ce}:not([aria-disabled="true"])`,ue="cmdk-item-select",$="data-value",gt=(e,r,t)=>lt(e,r,t),Re=a.createContext(void 0),z=()=>a.useContext(Re),Ie=a.createContext(void 0),de=()=>a.useContext(Ie),Me=a.createContext(void 0),$e=a.forwardRef((e,r)=>{let t=P(()=>{var n,u;return{search:"",value:(u=(n=e.value)!=null?n:e.defaultValue)!=null?u:"",filtered:{count:0,items:new Map,groups:new Set}}}),c=P(()=>new Set),l=P(()=>new Map),o=P(()=>new Map),s=P(()=>new Set),d=Le(e),{label:h,children:v,value:m,onValueChange:g,filter:j,shouldFilter:k,loop:C,disablePointerSelection:Y=!1,vimBindings:R=!0,...G}=e,me=K(),fe=K(),pe=K(),I=a.useRef(null),b=Nt();A(()=>{if(m!==void 0){let n=m.trim();t.current.value=n,S.emit()}},[m]),A(()=>{b(6,he)},[]);let S=a.useMemo(()=>({subscribe:n=>(s.current.add(n),()=>s.current.delete(n)),snapshot:()=>t.current,setState:(n,u,p)=>{var i,x,y;if(!Object.is(t.current[n],u)){if(t.current[n]=u,n==="search")ee(),Q(),b(1,_);else if(n==="value"&&(p||b(5,he),((i=d.current)==null?void 0:i.value)!==void 0)){let E=u??"";(y=(x=d.current).onValueChange)==null||y.call(x,E);return}S.emit()}},emit:()=>{s.current.forEach(n=>n())}}),[]),Z=a.useMemo(()=>({value:(n,u,p)=>{var i;u!==((i=o.current.get(n))==null?void 0:i.value)&&(o.current.set(n,{value:u,keywords:p}),t.current.filtered.items.set(n,ve(u,p)),b(2,()=>{Q(),S.emit()}))},item:(n,u)=>(c.current.add(n),u&&(l.current.has(u)?l.current.get(u).add(n):l.current.set(u,new Set([n]))),b(3,()=>{ee(),Q(),t.current.value||_(),S.emit()}),()=>{o.current.delete(n),c.current.delete(n),t.current.filtered.items.delete(n);let p=q();b(4,()=>{ee(),p?.getAttribute("id")===n&&_(),S.emit()})}),group:n=>(l.current.has(n)||l.current.set(n,new Set),()=>{o.current.delete(n),l.current.delete(n)}),filter:()=>d.current.shouldFilter,label:h||e["aria-label"],getDisablePointerSelection:()=>d.current.disablePointerSelection,listId:me,inputId:pe,labelId:fe,listInnerRef:I}),[]);function ve(n,u){var p,i;let x=(i=(p=d.current)==null?void 0:p.filter)!=null?i:gt;return n?x(n,t.current.search,u):0}function Q(){if(!t.current.search||d.current.shouldFilter===!1)return;let n=t.current.filtered.items,u=[];t.current.filtered.groups.forEach(i=>{let x=l.current.get(i),y=0;x.forEach(E=>{let M=n.get(E);y=Math.max(M,y)}),u.push([i,y])});let p=I.current;F().sort((i,x)=>{var y,E;let M=i.getAttribute("id"),T=x.getAttribute("id");return((y=n.get(T))!=null?y:0)-((E=n.get(M))!=null?E:0)}).forEach(i=>{let x=i.closest(oe);x?x.appendChild(i.parentElement===x?i:i.closest(`${oe} > *`)):p.appendChild(i.parentElement===p?i:i.closest(`${oe} > *`))}),u.sort((i,x)=>x[1]-i[1]).forEach(i=>{var x;let y=(x=I.current)==null?void 0:x.querySelector(`${B}[${$}="${encodeURIComponent(i[0])}"]`);y?.parentElement.appendChild(y)})}function _(){let n=F().find(p=>p.getAttribute("aria-disabled")!=="true"),u=n?.getAttribute($);S.setState("value",u||void 0)}function ee(){var n,u,p,i;if(!t.current.search||d.current.shouldFilter===!1){t.current.filtered.count=c.current.size;return}t.current.filtered.groups=new Set;let x=0;for(let y of c.current){let E=(u=(n=o.current.get(y))==null?void 0:n.value)!=null?u:"",M=(i=(p=o.current.get(y))==null?void 0:p.keywords)!=null?i:[],T=ve(E,M);t.current.filtered.items.set(y,T),T>0&&x++}for(let[y,E]of l.current)for(let M of E)if(t.current.filtered.items.get(M)>0){t.current.filtered.groups.add(y);break}t.current.filtered.count=x}function he(){var n,u,p;let i=q();i&&(((n=i.parentElement)==null?void 0:n.firstChild)===i&&((p=(u=i.closest(B))==null?void 0:u.querySelector(ht))==null||p.scrollIntoView({block:"nearest"})),i.scrollIntoView({block:"nearest"}))}function q(){var n;return(n=I.current)==null?void 0:n.querySelector(`${ce}[aria-selected="true"]`)}function F(){var n;return Array.from(((n=I.current)==null?void 0:n.querySelectorAll(Ee))||[])}function te(n){let u=F()[n];u&&S.setState("value",u.getAttribute($))}function re(n){var u;let p=q(),i=F(),x=i.findIndex(E=>E===p),y=i[x+n];(u=d.current)!=null&&u.loop&&(y=x+n<0?i[i.length-1]:x+n===i.length?i[0]:i[x+n]),y&&S.setState("value",y.getAttribute($))}function ge(n){let u=q(),p=u?.closest(B),i;for(;p&&!i;)p=n>0?jt(p,B):Ct(p,B),i=p?.querySelector(Ee);i?S.setState("value",i.getAttribute($)):re(n)}let xe=()=>te(F().length-1),ye=n=>{n.preventDefault(),n.metaKey?xe():n.altKey?ge(1):re(1)},be=n=>{n.preventDefault(),n.metaKey?te(0):n.altKey?ge(-1):re(-1)};return a.createElement(N.div,{ref:r,tabIndex:-1,...G,"cmdk-root":"",onKeyDown:n=>{var u;if((u=G.onKeyDown)==null||u.call(G,n),!n.defaultPrevented)switch(n.key){case"n":case"j":{R&&n.ctrlKey&&ye(n);break}case"ArrowDown":{ye(n);break}case"p":case"k":{R&&n.ctrlKey&&be(n);break}case"ArrowUp":{be(n);break}case"Home":{n.preventDefault(),te(0);break}case"End":{n.preventDefault(),xe();break}case"Enter":if(!n.nativeEvent.isComposing&&n.keyCode!==229){n.preventDefault();let p=q();if(p){let i=new Event(ue);p.dispatchEvent(i)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:Z.inputId,id:Z.labelId,style:It},h),X(e,n=>a.createElement(Ie.Provider,{value:S},a.createElement(Re.Provider,{value:Z},n))))}),xt=a.forwardRef((e,r)=>{var t,c;let l=K(),o=a.useRef(null),s=a.useContext(Me),d=z(),h=Le(e),v=(c=(t=h.current)==null?void 0:t.forceMount)!=null?c:s?.forceMount;A(()=>{if(!v)return d.item(l,s?.id)},[v]);let m=De(l,o,[e.value,e.children,o],e.keywords),g=de(),j=L(b=>b.value&&b.value===m.current),k=L(b=>v||d.filter()===!1?!0:b.search?b.filtered.items.get(l)>0:!0);a.useEffect(()=>{let b=o.current;if(!(!b||e.disabled))return b.addEventListener(ue,C),()=>b.removeEventListener(ue,C)},[k,e.onSelect,e.disabled]);function C(){var b,S;Y(),(S=(b=h.current).onSelect)==null||S.call(b,m.current)}function Y(){g.setState("value",m.current,!0)}if(!k)return null;let{disabled:R,value:G,onSelect:me,forceMount:fe,keywords:pe,...I}=e;return a.createElement(N.div,{ref:U([o,r]),...I,id:l,"cmdk-item":"",role:"option","aria-disabled":!!R,"aria-selected":!!j,"data-disabled":!!R,"data-selected":!!j,onPointerMove:R||d.getDisablePointerSelection()?void 0:Y,onClick:R?void 0:C},e.children)}),yt=a.forwardRef((e,r)=>{let{heading:t,children:c,forceMount:l,...o}=e,s=K(),d=a.useRef(null),h=a.useRef(null),v=K(),m=z(),g=L(k=>l||m.filter()===!1?!0:k.search?k.filtered.groups.has(s):!0);A(()=>m.group(s),[]),De(s,d,[e.value,e.heading,h]);let j=a.useMemo(()=>({id:s,forceMount:l}),[l]);return a.createElement(N.div,{ref:U([d,r]),...o,"cmdk-group":"",role:"presentation",hidden:g?void 0:!0},t&&a.createElement("div",{ref:h,"cmdk-group-heading":"","aria-hidden":!0,id:v},t),X(e,k=>a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":t?v:void 0},a.createElement(Me.Provider,{value:j},k))))}),bt=a.forwardRef((e,r)=>{let{alwaysRender:t,...c}=e,l=a.useRef(null),o=L(s=>!s.search);return!t&&!o?null:a.createElement(N.div,{ref:U([l,r]),...c,"cmdk-separator":"",role:"separator"})}),wt=a.forwardRef((e,r)=>{let{onValueChange:t,...c}=e,l=e.value!=null,o=de(),s=L(m=>m.search),d=L(m=>m.value),h=z(),v=a.useMemo(()=>{var m;let g=(m=h.listInnerRef.current)==null?void 0:m.querySelector(`${ce}[${$}="${encodeURIComponent(d)}"]`);return g?.getAttribute("id")},[]);return a.useEffect(()=>{e.value!=null&&o.setState("search",e.value)},[e.value]),a.createElement(N.input,{ref:r,...c,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":h.listId,"aria-labelledby":h.labelId,"aria-activedescendant":v,id:h.inputId,type:"text",value:l?e.value:s,onChange:m=>{l||o.setState("search",m.target.value),t?.(m.target.value)}})}),St=a.forwardRef((e,r)=>{let{children:t,label:c="Suggestions",...l}=e,o=a.useRef(null),s=a.useRef(null),d=z();return a.useEffect(()=>{if(s.current&&o.current){let h=s.current,v=o.current,m,g=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let j=h.offsetHeight;v.style.setProperty("--cmdk-list-height",j.toFixed(1)+"px")})});return g.observe(h),()=>{cancelAnimationFrame(m),g.unobserve(h)}}},[]),a.createElement(N.div,{ref:U([o,r]),...l,"cmdk-list":"",role:"listbox","aria-label":c,id:d.listId},X(e,h=>a.createElement("div",{ref:U([s,d.listInnerRef]),"cmdk-list-sizer":""},h)))}),Ae=a.forwardRef((e,r)=>{let{open:t,onOpenChange:c,overlayClassName:l,contentClassName:o,container:s,...d}=e;return a.createElement(Fe,{open:t,onOpenChange:c},a.createElement(He,{container:s},a.createElement(Be,{"cmdk-overlay":"",className:l}),a.createElement(Ue,{"aria-label":e.label,"cmdk-dialog":"",className:o},a.createElement($e,{ref:r,...d}))))}),kt=a.forwardRef((e,r)=>L(t=>t.filtered.count===0)?a.createElement(N.div,{ref:r,...e,"cmdk-empty":"",role:"presentation"}):null),Et=a.forwardRef((e,r)=>{let{progress:t,children:c,label:l="Loading...",...o}=e;return a.createElement(N.div,{ref:r,...o,"cmdk-loading":"",role:"progressbar","aria-valuenow":t,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},X(e,s=>a.createElement("div",{"aria-hidden":!0},s)))}),w=Object.assign($e,{List:St,Item:xt,Input:wt,Group:yt,Separator:bt,Dialog:Ae,Empty:kt,Loading:Et});function jt(e,r){let t=e.nextElementSibling;for(;t;){if(t.matches(r))return t;t=t.nextElementSibling}}function Ct(e,r){let t=e.previousElementSibling;for(;t;){if(t.matches(r))return t;t=t.previousElementSibling}}function Le(e){let r=a.useRef(e);return A(()=>{r.current=e}),r}var A=typeof window>"u"?a.useEffect:a.useLayoutEffect;function P(e){let r=a.useRef();return r.current===void 0&&(r.current=e()),r}function U(e){return r=>{e.forEach(t=>{typeof t=="function"?t(r):t!=null&&(t.current=r)})}}function L(e){let r=de(),t=()=>e(r.snapshot());return vt.useSyncExternalStore(r.subscribe,t,t)}function De(e,r,t,c=[]){let l=a.useRef(),o=z();return A(()=>{var s;let d=(()=>{var v;for(let m of t){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(v=m.current.textContent)==null?void 0:v.trim():l.current}})(),h=c.map(v=>v.trim());o.value(e,d,h),(s=r.current)==null||s.setAttribute($,d),l.current=d}),l}var Nt=()=>{let[e,r]=a.useState(),t=P(()=>new Map);return A(()=>{t.current.forEach(c=>c()),t.current=new Map},[e]),(c,l)=>{t.current.set(c,l),r({})}};function Rt(e){let r=e.type;return typeof r=="function"?r(e.props):"render"in r?r.render(e.props):e}function X({asChild:e,children:r},t){return e&&a.isValidElement(r)?a.cloneElement(Rt(r),{ref:r.ref},t(r.props.children)):t(r)}var It={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Pe=a.forwardRef(({className:e,...r},t)=>f.jsx(w,{ref:t,className:D("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...r}));Pe.displayName=w.displayName;const Oe=a.forwardRef(({className:e,...r},t)=>f.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[f.jsx(Xe,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),f.jsx(w.Input,{ref:t,className:D("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...r})]}));Oe.displayName=w.Input.displayName;const Ke=a.forwardRef(({className:e,...r},t)=>f.jsx(w.List,{ref:t,className:D("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...r}));Ke.displayName=w.List.displayName;const Ve=a.forwardRef((e,r)=>f.jsx(w.Empty,{ref:r,className:"py-6 text-center text-sm",...e}));Ve.displayName=w.Empty.displayName;const se=a.forwardRef(({className:e,...r},t)=>f.jsx(w.Group,{ref:t,className:D("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...r}));se.displayName=w.Group.displayName;const qe=a.forwardRef(({className:e,...r},t)=>f.jsx(w.Separator,{ref:t,className:D("-mx-1 h-px bg-border",e),...r}));qe.displayName=w.Separator.displayName;const O=a.forwardRef(({className:e,...r},t)=>f.jsx(w.Item,{ref:t,className:D("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50",e),...r}));O.displayName=w.Item.displayName;const W=({className:e,...r})=>f.jsx("span",{className:D("ml-auto text-xs tracking-widest text-muted-foreground",e),...r});W.displayName="CommandShortcut";function Bt({courses:e}){const{toast:r}=ze(),[t,c]=we.useState(!1);we.useEffect(()=>{const o=d=>{d.preventDefault(),c(h=>!h)},s=d=>{d.key==="k"&&(d.metaKey||d.ctrlKey)&&(d.preventDefault(),c(h=>!h))};return document.addEventListener("keydown",s),document.addEventListener("openMenuEvent",o),()=>{document.removeEventListener("keydown",s),document.removeEventListener("openMenuEvent",o)}},[]);const l=async()=>{const s=await(await fetch("/api/users/logout",{method:"POST"})).json();s.message==="success"?H("/login"):r({title:"Algo salió mal!",description:s.message,variant:"destructive"})};return f.jsx(Ae,{open:t,onOpenChange:c,className:"fixed top-16 left-0 right-0 mx-2",children:f.jsxs(Pe,{className:"rounded-lg border shadow-md md:min-w-[450px]",children:[f.jsx(Oe,{placeholder:"Busca tus cursos usando palabras clave..."}),f.jsxs(Ke,{children:[f.jsx(Ve,{children:"0 coincidencias"}),f.jsx(se,{heading:"Sugerencias",children:e.map(o=>f.jsxs(O,{onSelect:()=>H(`/courses/details/${o.id}`),children:[f.jsx(We,{className:"mr-2 h-4 w-4"}),f.jsxs("span",{children:["Curso: ",o.title]})]},o.id))}),f.jsx(qe,{}),f.jsxs(se,{heading:"Menú de opciones",children:[f.jsxs(O,{onSelect:()=>H("/"),children:[f.jsx(Ge,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Inicio"}),f.jsx(W,{children:"⌘H"})]}),f.jsxs(O,{onSelect:()=>H("/profile"),children:[f.jsx(Ye,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Perfil"}),f.jsx(W,{children:"⌘P"})]}),f.jsxs(O,{onSelect:()=>H("/profile"),children:[f.jsx(Te,{className:"mr-2 h-4 w-4"}),f.jsx("span",{children:"Ajustes"}),f.jsx(W,{children:"⌘S"})]}),f.jsxs(O,{onSelect:l,children:[f.jsx(Je,{className:"mr-2 h-4 w-4",color:"rgb(239 68 68)"}),f.jsx("span",{className:"text-red-500",children:"Cerrar sesión"})]})]})]})]})})}export{Bt as Menu};
