import{j as e}from"./index.DBbjwa8k.js";import{n as g}from"./router.B-sij-_X.js";import{B as l}from"./button.AZqx0Umo.js";import{z as o,u as f,t as b,F as A,a as n,b as c,c as d,d as m,I as v,e as u}from"./zod.CVm1W80w.js";import{u as N}from"./use-toast.Bu7IqXVg.js";import{A as T,I as D,a as E,b as F}from"./alert.DYqv2Hsw.js";import{T as h}from"./textarea.TGBnJs20.js";import{A as S,a as y,b as C,c as w,d as I,e as M,f as _,g as k,h as z}from"./alert-dialog.BGgg8BIq.js";import{U,a as G}from"./UserNames.DTNUW7hs.js";import"./index.lFdC2nkX.js";import"./index.CxOCE76-.js";import"./createLucideIcon.BAPAnDpJ.js";import"./index.BLNbD4pj.js";import"./index.CTnt_JEC.js";import"./index.BatipnVx.js";const H=o.object({names:o.string().min(U).max(G),school:o.string().min(2).max(700),skills:o.string().min(2).max(700)}),ee=({user:a})=>{const{toast:t}=N(),r=f({resolver:b(H),defaultValues:{names:a.names,school:a.school||"",skills:a.skills||""}}),x=async s=>{const p=await(await fetch(`/api/users/${a.id}/profile`,{method:"POST",headers:{Accept:"application.json","Content-Type":"application/json"},body:JSON.stringify(s)})).json();p.message==="success"?t({title:"Datos actualizados!",description:"Tus datos han sido actualizados"}):t({title:"Algo salió mal!",description:p.message,variant:"destructive"})},j=async()=>{const i=await(await fetch(`/api/users/${a.id}/remove`,{method:"POST"})).json();i.message==="success"?g("/"):t({title:"Algo salió mal!",description:i.message,variant:"destructive"})};return e.jsxs(S,{children:[e.jsxs(T,{className:"bg-blue-50 border-blue-600",children:[e.jsx(D,{className:"h-4 w-4",color:"rgb(37 99 235)"}),e.jsx(E,{className:"text-blue-600",children:e.jsx("strong",{children:"Formulario de datos personales"})}),e.jsx(F,{className:"text-blue-600",children:"En este espacio puede detallar datos que pueden ser de mayor utilidad en la generación de las lecciones de tus cursos."})]}),e.jsx("div",{className:"grid gap-4 mt-4",children:e.jsx(A,{...r,children:e.jsxs("form",{onSubmit:r.handleSubmit(x),className:"grid gap-4",children:[e.jsx(n,{control:r.control,name:"names",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Nombre completo"}),e.jsx(m,{children:e.jsx(v,{placeholder:"Ingresa tus nombres y apellidos",autoComplete:"name",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:r.control,name:"school",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Nombre de tu centro educativo"}),e.jsx(m,{children:e.jsx(h,{placeholder:"Centro educativo, plataforma virtual, etc.",className:"resize-none",...s})}),e.jsx(u,{})]})}),e.jsx(n,{control:r.control,name:"skills",render:({field:s})=>e.jsxs(c,{children:[e.jsx(d,{children:"Tu especialidad en cursos o materias"}),e.jsx(m,{children:e.jsx(h,{placeholder:"Matemáticas de nivel primaria, comunicación verbal, historia, etc.",className:"resize-none",...s})}),e.jsx(u,{})]})}),e.jsx(l,{type:"submit",className:"w-full mt-4",children:"Guardar cambios"}),e.jsx(l,{type:"button",variant:"outline",className:"w-full",children:e.jsx("a",{href:"/",children:"Volver al inicio"})}),e.jsx(y,{asChild:!0,children:e.jsx(l,{type:"button",variant:"destructive",className:"w-full",children:"Eliminar cuenta de usuario"})})]})})}),e.jsxs(C,{children:[e.jsxs(w,{children:[e.jsx(I,{children:"¿Está seguro de eliminar tu cuenta?"}),e.jsx(M,{children:"Esta acción no se podrá deshacer. Todos los datos de tu cuenta serán eliminados permanentemente de la de base de datos."})]}),e.jsxs(_,{children:[e.jsx(k,{children:"Cancelar"}),e.jsx(z,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:j,children:"Eliminar cuenta"})]})]})]})};export{ee as UserProfileForm};
