import{j as n,P as j,u as re,d as je,c as A}from"./index.C-M3_CjP.js";import{u as Ae}from"./use-toast.BAq_dyGy.js";import{r as s,a as Ie}from"./index.Cpi2Ks0G.js";import{B as Fe,u as De,P as Le,c as C,R as Me,a as Oe}from"./index.Dox3Ggkk.js";import{c as ke}from"./index.B-mGbkiQ.js";import{a as H,u as Ve}from"./index.DYGEF4Um.js";import{c as Ke}from"./index.CxOCE76-.js";import{X as $e}from"./x.DnAD47Gr.js";import"./index.BjuswFHX.js";import"./createLucideIcon.DlBfeOJM.js";function He(e,t=[]){let o=[];function r(l,d){const f=s.createContext(d),m=o.length;o=[...o,d];const i=w=>{const{scope:R,children:P,...y}=w,p=R?.[e]?.[m]||f,c=s.useMemo(()=>y,Object.values(y));return n.jsx(p.Provider,{value:c,children:P})};i.displayName=l+"Provider";function T(w,R){const P=R?.[e]?.[m]||f,y=s.useContext(P);if(y)return y;if(d!==void 0)return d;throw new Error(`\`${w}\` must be used within \`${l}\``)}return[i,T]}const a=()=>{const l=o.map(d=>s.createContext(d));return function(f){const m=f?.[e]||l;return s.useMemo(()=>({[`__scope${e}`]:{...f,[e]:m}}),[f,m])}};return a.scopeName=e,[r,We(a,...t)]}function We(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const d=r.reduce((f,{useScope:m,scopeName:i})=>{const w=m(l)[`__scope${i}`];return{...f,...w}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return o.scopeName=t.scopeName,o}var Xe="VisuallyHidden",G=s.forwardRef((e,t)=>n.jsx(j.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));G.displayName=Xe;var J="ToastProvider",[Q,Ue,Be]=ke("Toast"),[se,gt]=He("Toast",[Be]),[Ye,W]=se(J),ne=e=>{const{__scopeToast:t,label:o="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:l=50,children:d}=e,[f,m]=s.useState(null),[i,T]=s.useState(0),w=s.useRef(!1),R=s.useRef(!1);return o.trim()||console.error(`Invalid prop \`label\` supplied to \`${J}\`. Expected non-empty \`string\`.`),n.jsx(Q.Provider,{scope:t,children:n.jsx(Ye,{scope:t,label:o,duration:r,swipeDirection:a,swipeThreshold:l,toastCount:i,viewport:f,onViewportChange:m,onToastAdd:s.useCallback(()=>T(P=>P+1),[]),onToastRemove:s.useCallback(()=>T(P=>P-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:R,children:d})})};ne.displayName=J;var ae="ToastViewport",qe=["F8"],Y="toast.viewportPause",q="toast.viewportResume",ie=s.forwardRef((e,t)=>{const{__scopeToast:o,hotkey:r=qe,label:a="Notifications ({hotkey})",...l}=e,d=W(ae,o),f=Ue(o),m=s.useRef(null),i=s.useRef(null),T=s.useRef(null),w=s.useRef(null),R=re(t,w,d.onViewportChange),P=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=d.toastCount>0;s.useEffect(()=>{const c=h=>{r.length!==0&&r.every(x=>h[x]||h.code===x)&&w.current?.focus()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[r]),s.useEffect(()=>{const c=m.current,h=w.current;if(y&&c&&h){const v=()=>{if(!d.isClosePausedRef.current){const E=new CustomEvent(Y);h.dispatchEvent(E),d.isClosePausedRef.current=!0}},x=()=>{if(d.isClosePausedRef.current){const E=new CustomEvent(q);h.dispatchEvent(E),d.isClosePausedRef.current=!1}},g=E=>{!c.contains(E.relatedTarget)&&x()},b=()=>{c.contains(document.activeElement)||x()};return c.addEventListener("focusin",v),c.addEventListener("focusout",g),c.addEventListener("pointermove",v),c.addEventListener("pointerleave",b),window.addEventListener("blur",v),window.addEventListener("focus",x),()=>{c.removeEventListener("focusin",v),c.removeEventListener("focusout",g),c.removeEventListener("pointermove",v),c.removeEventListener("pointerleave",b),window.removeEventListener("blur",v),window.removeEventListener("focus",x)}}},[y,d.isClosePausedRef]);const p=s.useCallback(({tabbingDirection:c})=>{const v=f().map(x=>{const g=x.ref.current,b=[g,...it(g)];return c==="forwards"?b:b.reverse()});return(c==="forwards"?v.reverse():v).flat()},[f]);return s.useEffect(()=>{const c=w.current;if(c){const h=v=>{const x=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!x){const b=document.activeElement,E=v.shiftKey;if(v.target===c&&E){i.current?.focus();return}const F=p({tabbingDirection:E?"backwards":"forwards"}),O=F.findIndex(_=>_===b);B(F.slice(O+1))?v.preventDefault():E?i.current?.focus():T.current?.focus()}};return c.addEventListener("keydown",h),()=>c.removeEventListener("keydown",h)}},[f,p]),n.jsxs(Fe,{ref:m,role:"region","aria-label":a.replace("{hotkey}",P),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&n.jsx(z,{ref:i,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"forwards"});B(c)}}),n.jsx(Q.Slot,{scope:o,children:n.jsx(j.ol,{tabIndex:-1,...l,ref:R})}),y&&n.jsx(z,{ref:T,onFocusFromOutsideViewport:()=>{const c=p({tabbingDirection:"backwards"});B(c)}})]})});ie.displayName=ae;var ce="ToastFocusProxy",z=s.forwardRef((e,t)=>{const{__scopeToast:o,onFocusFromOutsideViewport:r,...a}=e,l=W(ce,o);return n.jsx(G,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:d=>{const f=d.relatedTarget;!l.viewport?.contains(f)&&r()}})});z.displayName=ce;var X="Toast",ze="toast.swipeStart",Ge="toast.swipeMove",Je="toast.swipeCancel",Qe="toast.swipeEnd",ue=s.forwardRef((e,t)=>{const{forceMount:o,open:r,defaultOpen:a,onOpenChange:l,...d}=e,[f=!0,m]=De({prop:r,defaultProp:a,onChange:l});return n.jsx(Le,{present:o||f,children:n.jsx(tt,{open:f,...d,ref:t,onClose:()=>m(!1),onPause:H(e.onPause),onResume:H(e.onResume),onSwipeStart:C(e.onSwipeStart,i=>{i.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(e.onSwipeMove,i=>{const{x:T,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","move"),i.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${T}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:C(e.onSwipeCancel,i=>{i.currentTarget.setAttribute("data-swipe","cancel"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(e.onSwipeEnd,i=>{const{x:T,y:w}=i.detail.delta;i.currentTarget.setAttribute("data-swipe","end"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),i.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),i.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${T}px`),i.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),m(!1)})})})});ue.displayName=X;var[Ze,et]=se(X,{onClose(){}}),tt=s.forwardRef((e,t)=>{const{__scopeToast:o,type:r="foreground",duration:a,open:l,onClose:d,onEscapeKeyDown:f,onPause:m,onResume:i,onSwipeStart:T,onSwipeMove:w,onSwipeCancel:R,onSwipeEnd:P,...y}=e,p=W(X,o),[c,h]=s.useState(null),v=re(t,u=>h(u)),x=s.useRef(null),g=s.useRef(null),b=a||p.duration,E=s.useRef(0),I=s.useRef(b),M=s.useRef(0),{onToastAdd:F,onToastRemove:O}=p,_=H(()=>{c?.contains(document.activeElement)&&p.viewport?.focus(),d()}),k=s.useCallback(u=>{!u||u===1/0||(window.clearTimeout(M.current),E.current=new Date().getTime(),M.current=window.setTimeout(_,u))},[_]);s.useEffect(()=>{const u=p.viewport;if(u){const N=()=>{k(I.current),i?.()},S=()=>{const D=new Date().getTime()-E.current;I.current=I.current-D,window.clearTimeout(M.current),m?.()};return u.addEventListener(Y,S),u.addEventListener(q,N),()=>{u.removeEventListener(Y,S),u.removeEventListener(q,N)}}},[p.viewport,b,m,i,k]),s.useEffect(()=>{l&&!p.isClosePausedRef.current&&k(b)},[l,b,p.isClosePausedRef,k]),s.useEffect(()=>(F(),()=>O()),[F,O]);const ee=s.useMemo(()=>c?we(c):null,[c]);return p.viewport?n.jsxs(n.Fragment,{children:[ee&&n.jsx(ot,{__scopeToast:o,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:ee}),n.jsx(Ze,{scope:o,onClose:_,children:Ie.createPortal(n.jsx(Q.ItemSlot,{scope:o,children:n.jsx(Me,{asChild:!0,onEscapeKeyDown:C(f,()=>{p.isFocusedToastEscapeKeyDownRef.current||_(),p.isFocusedToastEscapeKeyDownRef.current=!1}),children:n.jsx(j.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":l?"open":"closed","data-swipe-direction":p.swipeDirection,...y,ref:v,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:C(e.onKeyDown,u=>{u.key==="Escape"&&(f?.(u.nativeEvent),u.nativeEvent.defaultPrevented||(p.isFocusedToastEscapeKeyDownRef.current=!0,_()))}),onPointerDown:C(e.onPointerDown,u=>{u.button===0&&(x.current={x:u.clientX,y:u.clientY})}),onPointerMove:C(e.onPointerMove,u=>{if(!x.current)return;const N=u.clientX-x.current.x,S=u.clientY-x.current.y,D=!!g.current,L=["left","right"].includes(p.swipeDirection),V=["left","up"].includes(p.swipeDirection)?Math.min:Math.max,Se=L?V(0,N):0,_e=L?0:V(0,S),U=u.pointerType==="touch"?10:2,K={x:Se,y:_e},te={originalEvent:u,delta:K};D?(g.current=K,$(Ge,w,te,{discrete:!1})):oe(K,p.swipeDirection,U)?(g.current=K,$(ze,T,te,{discrete:!1}),u.target.setPointerCapture(u.pointerId)):(Math.abs(N)>U||Math.abs(S)>U)&&(x.current=null)}),onPointerUp:C(e.onPointerUp,u=>{const N=g.current,S=u.target;if(S.hasPointerCapture(u.pointerId)&&S.releasePointerCapture(u.pointerId),g.current=null,x.current=null,N){const D=u.currentTarget,L={originalEvent:u,delta:N};oe(N,p.swipeDirection,p.swipeThreshold)?$(Qe,P,L,{discrete:!0}):$(Je,R,L,{discrete:!0}),D.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),p.viewport)})]}):null}),ot=e=>{const{__scopeToast:t,children:o,...r}=e,a=W(X,t),[l,d]=s.useState(!1),[f,m]=s.useState(!1);return nt(()=>d(!0)),s.useEffect(()=>{const i=window.setTimeout(()=>m(!0),1e3);return()=>window.clearTimeout(i)},[]),f?null:n.jsx(Oe,{asChild:!0,children:n.jsx(G,{...r,children:l&&n.jsxs(n.Fragment,{children:[a.label," ",o]})})})},rt="ToastTitle",de=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return n.jsx(j.div,{...r,ref:t})});de.displayName=rt;var st="ToastDescription",le=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e;return n.jsx(j.div,{...r,ref:t})});le.displayName=st;var pe="ToastAction",fe=s.forwardRef((e,t)=>{const{altText:o,...r}=e;return o.trim()?n.jsx(ve,{altText:o,asChild:!0,children:n.jsx(Z,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${pe}\`. Expected non-empty \`string\`.`),null)});fe.displayName=pe;var me="ToastClose",Z=s.forwardRef((e,t)=>{const{__scopeToast:o,...r}=e,a=et(me,o);return n.jsx(ve,{asChild:!0,children:n.jsx(j.button,{type:"button",...r,ref:t,onClick:C(e.onClick,a.onClose)})})});Z.displayName=me;var ve=s.forwardRef((e,t)=>{const{__scopeToast:o,altText:r,...a}=e;return n.jsx(j.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function we(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),at(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",l=r.dataset.radixToastAnnounceExclude==="";if(!a)if(l){const d=r.dataset.radixToastAnnounceAlt;d&&t.push(d)}else t.push(...we(r))}}),t}function $(e,t,o,{discrete:r}){const a=o.originalEvent.currentTarget,l=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:o});t&&a.addEventListener(e,t,{once:!0}),r?je(a,l):a.dispatchEvent(l)}var oe=(e,t,o=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),l=r>a;return t==="left"||t==="right"?l&&r>o:!l&&a>o};function nt(e=()=>{}){const t=H(e);Ve(()=>{let o=0,r=0;return o=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(o),window.cancelAnimationFrame(r)}},[t])}function at(e){return e.nodeType===e.ELEMENT_NODE}function it(e){const t=[],o=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function B(e){const t=document.activeElement;return e.some(o=>o===t?!0:(o.focus(),document.activeElement!==t))}var ct=ne,xe=ie,Te=ue,ye=de,Ee=le,he=fe,ge=Z;const ut=ct,be=s.forwardRef(({className:e,...t},o)=>n.jsx(xe,{ref:o,className:A("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));be.displayName=xe.displayName;const dt=Ke("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Pe=s.forwardRef(({className:e,variant:t,...o},r)=>n.jsx(Te,{ref:r,className:A(dt({variant:t}),e),...o}));Pe.displayName=Te.displayName;const lt=s.forwardRef(({className:e,...t},o)=>n.jsx(he,{ref:o,className:A("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));lt.displayName=he.displayName;const Ce=s.forwardRef(({className:e,...t},o)=>n.jsx(ge,{ref:o,className:A("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:n.jsx($e,{className:"h-4 w-4"})}));Ce.displayName=ge.displayName;const Re=s.forwardRef(({className:e,...t},o)=>n.jsx(ye,{ref:o,className:A("text-sm font-semibold",e),...t}));Re.displayName=ye.displayName;const Ne=s.forwardRef(({className:e,...t},o)=>n.jsx(Ee,{ref:o,className:A("text-sm opacity-90",e),...t}));Ne.displayName=Ee.displayName;function bt(){const{toasts:e}=Ae();return n.jsxs(ut,{children:[e.map(function({id:t,title:o,description:r,action:a,...l}){return n.jsxs(Pe,{...l,children:[n.jsxs("div",{className:"grid gap-1",children:[o&&n.jsx(Re,{children:o}),r&&n.jsx(Ne,{children:r})]}),a,n.jsx(Ce,{})]},t)}),n.jsx(be,{})]})}export{bt as Toaster};
